{% include 'client_header.html' %}
  <div class="col-12 page-heading">
    <div class="page-title-box d-sm-flex align-items-center justify-content-between">
      <h4 class="mb-sm-0">Payment Details</h4>
      <div class="page-title-right">
        <ol class="breadcrumb m-0">
          <li class="breadcrumb-item"> <a href="#">Dashboard</a> </li>
          <li class="breadcrumb-item active">Payment Details</li>
        </ol>
      </div>
    </div>
  </div>
  </div>
  <div class="card product-details card-bgchange">
    <div class="card-header align-items-center d-flex">
      <h4 class="card-title mb-0 flex-grow-1">Payment Details</h4> </div>
    <div class="card-body">
      <form class="addnewgroup" action="/contact/{{user.id}}" method="post">
        {% csrf_token %}
        <div class="form-group col-lg-6 col-sm-12 col-12">
          <label class="col-md-3 col-form-label float-left">Add New Group</label>
          <div class="col-md-6 float-left grpinput">
            <input type="text" class="form-control" name="name" id="name"> </div>
          <button type="submit" class="btn btn-primary add-bttn col-md-2 swalDefaultSuccess">Add</button>
        </div>
      </form>
      <table class="table table-hover dt-responsive" id="paymentdetail">
        <thead>
          <tr>
            <th>#</th>
            <th>Group Name</th>
            <th>Total Customer</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            {% for group in message %}
                      {% if group.cid == user.id %}
            <td>{{ forloop.counter }}</td>
            <td>{{group.name}}</td>
            <td>120</td>
            <td>
              <div class="btn-group btn-group-sm"> <span class="btn btn-sm btn-warning grupcustmicon">
                        <a href="customerlist"><i class="fa fa-users"></i></a></span>
                <button type="button" data-toggle="modal" data-target="#delete" class="btn btn-sm btn-danger" onclick="test({{group.id}})">
                        <i class="fa fa-trash" ></i>
                      </button>
              </div>
            </td>
          </tr>
          {% endif %}
                {% endfor %}
<!--          <tr>-->
<!--            <td>2</td>-->
<!--            <td>Group 2</td>-->
<!--            <td>150</td>-->
<!--            <td>-->
<!--              <div class="btn-group btn-group-sm"> <span class="btn btn-sm btn-warning grupcustmicon">-->
<!--                        <a href="customerview.php"><i class="fa fa-users"></i></a></span>-->
<!--                <button type="button" class="btn btn-sm btn-danger delete-msg"> <i class="fa fa-trash"></i> </button>-->
<!--              </div>-->
<!--            </td>-->
<!--          </tr>-->
        </tbody>
      </table>
    </div>
  </div>
  </div>
  </div>
  </div>
  </div>
{% include 'client_footer.html' %}
    <!-- JAVASCRIPT -->
    <script type="text/javascript">
    // datatable init. start//
    $(function() {
      $("#paymentdetail").DataTable({
        "responsive": false,
        "lengthChange": true,
        "autoWidth": false,
        "scrollX": true,
      })
    });
    // datatable init. start//
    </script>
    <script>
    $(function() {
      var Toast = Swal.mixin({
        toast: true,
        position: 'top-end',
        showConfirmButton: false,
        timer: 3000
      });
      $('.swalDefaultSuccess').click(function() {
        Toast.fire({
          icon: 'success',
          title: 'The Group is Added Successfully.'
        })
      });
      $('.swalDefaultInfo').click(function() {
        Toast.fire({
          icon: 'info',
          title: 'Admin information successfully updated.'
        })
      });
      $('.swalDefaultError').click(function() {
        Toast.fire({
          icon: 'error',
          title: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.'
        })
      });
      $('.swalDefaultWarning').click(function() {
        Toast.fire({
          icon: 'warning',
          title: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.'
        })
      });
      $('.swalDefaultQuestion').click(function() {
        Toast.fire({
          icon: 'question',
          title: 'Lorem ipsum dolor sit amet, consetetur sadipscing elitr.'
        })
      });
      $('.delete-msg').click(function() {
        Swal.fire({
          title: 'Are you sure?',
          text: "You won't be able to revert this!",
          icon: 'warning',
          showCancelButton: true,
          confirmButtonColor: '#3085d6',
          cancelButtonColor: '#d33',
          confirmButtonText: 'Yes, delete it!'
        }).then((result) => {
          if(result.isConfirmed) {}
        })
      });
    });
    </script>
<script>
  function test(val)
    {
      var t = val
      console.log(t)
      Swal.fire({
        title: 'Are you sure?',
        text: "You won't be able to revert this!",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonColor: '#3085d6',
        cancelButtonColor: '#d33',
        confirmButtonText: 'Yes, delete it!'
        }).then((result) => {
            if (result.isConfirmed) {
              $.ajax({
                type: "GET",
                url: "{% url 'client_group_delete' %}" ,
                data:{"value":t},
                });
              window.location.replace('/client_managegroup');
            }
          });
       }
</script>

